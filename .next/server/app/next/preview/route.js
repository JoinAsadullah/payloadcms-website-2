"use strict";(()=>{var e={};e.id=5337,e.ids=[5337],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6729:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>w,originalPathname:()=>m,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>x,staticGenerationBailout:()=>g});var s={};r.r(s),r.d(s,{GET:()=>u}),r(5655);var o=r(3323),n=r(4647),a=r(9859),i=r(6465),p=r(6362);async function u(e){let t=e.cookies.get(p.Q)?.value,{searchParams:r}=new URL(e.url),s=r.get("url"),o=r.get("secret");if(!s)return new Response("No URL provided",{status:404});t||new Response("You are not allowed to preview this page",{status:403});let n=await fetch("http://localhost:3000/api/users/me",{headers:{Authorization:`JWT ${t}`}}),u=await n.json();return n.ok&&u?.user?o!==process.env.NEXT_PRIVATE_DRAFT_SECRET?new Response("Invalid token",{status:401}):void((0,a.draftMode)().enable(),(0,i.redirect)(s)):((0,a.draftMode)().disable(),new Response("You are not allowed to preview this page",{status:403}))}let d=o.AppRouteRouteModule,l=new d({definition:{kind:n.x.APP_ROUTE,page:"/next/preview/route",pathname:"/next/preview",filename:"route",bundlePath:"app/next/preview/route"},resolvedPagePath:"C:\\Users\\masdu\\Desktop\\newproject\\src\\app\\next\\preview\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:x,serverHooks:v,headerHooks:w,staticGenerationBailout:g}=l,m="/next/preview/route"},6362:(e,t,r)=>{r.d(t,{Q:()=>s});let s="payload-token"}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4650,2560,3497,9859,6465,9727],()=>r(6729));module.exports=s})();